{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.795146b5d4d83992d8f8.hot-update.js","sources":["webpack:///./components/post.js"],"sourcesContent":["import {useEffect, useState} from \"react\";\r\n\r\nconst postStyle = {\r\n    display: \"flex\",\r\n    flexDirection: \"column\"\r\n};\r\nexport default function Post({handlePostListOpen, id}) {\r\n    const [post, setPost] = useState(null);\r\n    useEffect(() => {\r\n        debugger\r\n        const storage = window.localStorage;\r\n        const postsJson = storage.getItem(\"posts\");\r\n        const posts = JSON.parse(postsJson);\r\n        const currentPost = posts.find((post) => post.id === +id);\r\n        if (!currentPost.comments) {\r\n            (\r\n                async () => {\r\n                    const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\r\n                    currentPost.comments = await res.json();\r\n                    window.localStorage.setItem(\"posts\", JSON.stringify(posts));\r\n                    setPost(currentPost);\r\n                }\r\n            )().catch((error) => console.log(error))\r\n        } else {\r\n            setPost(post);\r\n        }\r\n\r\n    }, []);\r\n\r\n    const handleBackClick = () => {\r\n        handlePostListOpen();\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {\r\n                post ? <div style={postStyle}>\r\n                    <button onClick={handleBackClick}>Back to posts page</button>\r\n                    <span> User: {post.userId}</span>\r\n                    <span>Post Title: {post.title}</span>\r\n                    <span>Post Body: {post.body}</span>\r\n                    <ul>\r\n                        {\r\n                            post.comments &&\r\n                            post.comments.map((comment) => {\r\n                                return (\r\n                                    <li>\r\n                                        <div>Username: {comment.name}</div>\r\n                                        <div>{comment.body}</div>\r\n                                    </li>\r\n                                )\r\n                            })\r\n                        }\r\n                    </ul>\r\n                </div> :\r\n                    <div>Loading...</div>\r\n            }\r\n        </>\r\n\r\n    )\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AAAA;AACA;AADA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AADA;AAAA;AACA;AADA;AAEA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}