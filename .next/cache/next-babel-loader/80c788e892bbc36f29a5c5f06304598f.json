{"ast":null,"code":"var _jsxFileName = \"E:\\\\postapp\\\\pages\\\\index.js\";\nvar __jsx = React.createElement;\nimport React, { useEffect, useState } from \"react\";\nimport Login from \"../components/login\";\nimport { pageIds } from \"../helpers/constants\";\nimport PostList from \"../components/posts\";\nimport Post from \"../components/post\";\nimport * as Base64 from \"../.next/static/development/pages\";\nexport default function Index() {\n  var _this = this;\n\n  var _useState = useState(false),\n      isLoginPage = _useState[0],\n      setPage = _useState[1];\n\n  var _useState2 = useState(\"\"),\n      postId = _useState2[0],\n      setPostId = _useState2[1];\n\n  useEffect(function () {\n    var storage = window.localStorage;\n    var page = storage.getItem(\"page\");\n    var postId = storage.getItem(\"postId\");\n    var token = storage.getItem(\"token\");\n\n    if (!token) {\n      setPage(true);\n    }\n\n    if (postId) {\n      setPostId(postId);\n    }\n\n    if (!page) {\n      var _postId = storage.getItem(\"postId\");\n\n      storage.setItem(\"page\", pageIds.loginPage);\n      setPage(true);\n\n      if (_postId !== \"\") {\n        setPostId();\n      }\n    }\n  }, []);\n\n  var handlePostOpen = function handlePostOpen(id) {\n    setPostId(id);\n    window.localStorage.setItem(\"postId\", id);\n  };\n\n  var handlePostListOpen = function handlePostListOpen() {\n    setPostId(\"\");\n    window.localStorage.setItem(\"postId\", \"\");\n    window.localStorage.setItem(\"page\", \"posts\");\n  };\n\n  var handleSignIn = function handleSignIn(password) {\n    var token = Base64.encode(password);\n    window.localStorage.setItem(\"token\", token);\n    setPage(false);\n  };\n\n  var drawPage = function drawPage() {\n    if (isLoginPage) {\n      return __jsx(Login, {\n        handleSignIn: handleSignIn,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 17\n        }\n      });\n    } else if (postId === \"\") {\n      return __jsx(PostList, {\n        handlePostOpen: handlePostOpen,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      });\n    } else {\n      debugger;\n      return __jsx(Post, {\n        handlePostListOpen: handlePostListOpen,\n        id: postId,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 17\n        }\n      });\n    }\n  };\n\n  return __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }\n  }, drawPage());\n}","map":{"version":3,"sources":["E:/postapp/pages/index.js"],"names":["React","useEffect","useState","Login","pageIds","PostList","Post","Base64","Index","isLoginPage","setPage","postId","setPostId","storage","window","localStorage","page","getItem","token","setItem","loginPage","handlePostOpen","id","handlePostListOpen","handleSignIn","password","encode","drawPage"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport Login from \"../components/login\";\r\nimport {pageIds} from \"../helpers/constants\";\r\nimport PostList from \"../components/posts\";\r\nimport Post from \"../components/post\";\r\nimport * as Base64 from \"../.next/static/development/pages\";\r\n\r\nexport default function Index() {\r\n    const [isLoginPage, setPage] = useState(false);\r\n    const [postId, setPostId] = useState(\"\");\r\n    useEffect(() => {\r\n        const storage = window.localStorage;\r\n        const page = storage.getItem(\"page\");\r\n        const postId = storage.getItem(\"postId\");\r\n        const token = storage.getItem(\"token\");\r\n\r\n        if (!token) {\r\n            setPage(true)\r\n        }\r\n\r\n        if (postId) {\r\n            setPostId(postId)\r\n        }\r\n\r\n        if (!page) {\r\n            const postId = storage.getItem(\"postId\");\r\n            storage.setItem(\"page\", pageIds.loginPage);\r\n            setPage(true);\r\n            if (postId !== \"\") {\r\n                setPostId()\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    const handlePostOpen = (id) => {\r\n        setPostId(id);\r\n        window.localStorage.setItem(\"postId\", id);\r\n    };\r\n\r\n    const handlePostListOpen = () => {\r\n        setPostId(\"\");\r\n        window.localStorage.setItem(\"postId\", \"\");\r\n        window.localStorage.setItem(\"page\", \"posts\");\r\n    };\r\n\r\n    const handleSignIn = (password) => {\r\n        const token = Base64.encode(password);\r\n        window.localStorage.setItem(\"token\", token);\r\n        setPage(false);\r\n    };\r\n\r\n    const drawPage = () => {\r\n        if (isLoginPage) {\r\n            return (\r\n                <Login handleSignIn={handleSignIn}/>\r\n            )\r\n        } else if (postId === \"\") {\r\n            return (\r\n                <PostList handlePostOpen={handlePostOpen} />\r\n                )\r\n        } else {\r\n            debugger\r\n            return (\r\n                <Post handlePostListOpen={handlePostListOpen} id={postId}/>\r\n            )\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {\r\n                drawPage()\r\n            }\r\n        </div>\r\n    );\r\n}"]},"metadata":{},"sourceType":"module"}