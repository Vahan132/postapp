{"ast":null,"code":"var _jsxFileName = \"E:\\\\postapp\\\\components\\\\post.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useEffect, useState } from \"react\";\nexport default function Post({\n  id\n}) {\n  const {\n    0: post,\n    1: setPost\n  } = useState(null);\n  useEffect(() => {\n    const storage = window.localStorage;\n    const postsJson = storage.getItem(\"posts\");\n    const posts = JSON.parse(postsJson);\n    const currentPost = posts.find(post => post.id === id);\n\n    if (!currentPost.comments) {\n      (async () => {\n        const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\n        currentPost.comments = await res.json();\n        window.localStorage.setItem(\"posts\", JSON.stringify(posts));\n        setPost(currentPost);\n      })().catch(error => console.log(error));\n    }\n  }, []);\n  return __jsx(React.Fragment, null, post && __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 25\n    }\n  }, \"User: \", post.userId, \"Post Title: \", post.title, \"Post Body:\", post.body));\n}","map":{"version":3,"sources":["E:/postapp/components/post.js"],"names":["useEffect","useState","Post","id","post","setPost","storage","window","localStorage","postsJson","getItem","posts","JSON","parse","currentPost","find","comments","res","fetch","json","setItem","stringify","catch","error","console","log","userId","title","body"],"mappings":";;;AAAA,SAAQA,SAAR,EAAmBC,QAAnB,QAAkC,OAAlC;AAEA,eAAe,SAASC,IAAT,CAAc;AAACC,EAAAA;AAAD,CAAd,EAAoB;AAC/B,QAAM;AAAA,OAACC,IAAD;AAAA,OAAOC;AAAP,MAAkBJ,QAAQ,CAAC,IAAD,CAAhC;AACAD,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMM,OAAO,GAAGC,MAAM,CAACC,YAAvB;AACA,UAAMC,SAAS,GAAGH,OAAO,CAACI,OAAR,CAAgB,OAAhB,CAAlB;AACA,UAAMC,KAAK,GAAGC,IAAI,CAACC,KAAL,CAAWJ,SAAX,CAAd;AACA,UAAMK,WAAW,GAAGH,KAAK,CAACI,IAAN,CAAYX,IAAD,IAAUA,IAAI,CAACD,EAAL,KAAYA,EAAjC,CAApB;;AACA,QAAI,CAACW,WAAW,CAACE,QAAjB,EAA2B;AACvB,OACI,YAAY;AACR,cAAMC,GAAG,GAAG,MAAMC,KAAK,CAAE,8CAA6Cf,EAAG,WAAlD,CAAvB;AACAW,QAAAA,WAAW,CAACE,QAAZ,GAAuB,MAAMC,GAAG,CAACE,IAAJ,EAA7B;AACAZ,QAAAA,MAAM,CAACC,YAAP,CAAoBY,OAApB,CAA4B,OAA5B,EAAqCR,IAAI,CAACS,SAAL,CAAeV,KAAf,CAArC;AACAN,QAAAA,OAAO,CAACS,WAAD,CAAP;AACH,OANL,IAOIQ,KAPJ,CAOWC,KAAD,IAAWC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAPrB;AAQH;AAEJ,GAhBQ,EAgBN,EAhBM,CAAT;AAkBA,SACI,4BAEQnB,IAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACGA,IAAI,CAACsB,MADR,kBAEStB,IAAI,CAACuB,KAFd,gBAIHvB,IAAI,CAACwB,IAJF,CAFhB,CADJ;AAaH","sourcesContent":["import {useEffect, useState} from \"react\";\r\n\r\nexport default function Post({id}) {\r\n    const [post, setPost] = useState(null);\r\n    useEffect(() => {\r\n        const storage = window.localStorage;\r\n        const postsJson = storage.getItem(\"posts\");\r\n        const posts = JSON.parse(postsJson);\r\n        const currentPost = posts.find((post) => post.id === id);\r\n        if (!currentPost.comments) {\r\n            (\r\n                async () => {\r\n                    const res = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}/comments`);\r\n                    currentPost.comments = await res.json();\r\n                    window.localStorage.setItem(\"posts\", JSON.stringify(posts));\r\n                    setPost(currentPost);\r\n                }\r\n            )().catch((error) => console.log(error))\r\n        }\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                post && <div>\r\n                    User: {post.userId}\r\n                    Post Title: {post.title}\r\n                    Post Body:\r\n                    {post.body}\r\n                </div>\r\n            }\r\n        </>\r\n\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}